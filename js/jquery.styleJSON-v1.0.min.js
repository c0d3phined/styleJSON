(function(f){if(!Object.keys)Object.keys=function(b){if(b!==Object(b))throw new TypeError("Object.keys called on non-object");var f=[],j;for(j in b)Object.prototype.hasOwnProperty.call(b,j)&&f.push(j);return f};f.styleJSON=function(b,m,j){return f.fn.styleJSON(b,m,j)};f.styleJSON.defaults={arrayTag:"ul"};f.fn.styleJSON=function(b,m,j){function r(a,c){return c?document.createElement(a):f(document.createElement(a))}function t(a,c){for(var d=a.split("."),f=d.length,b=c,h=0;h<f;h++)b.hasOwnProperty(d[h])&&
(b=b[d[h]]);return b==c?null:b}function u(a,c,d){var b=d?d:c.parent(),a=d?!a?0:a.length:a.length-1;for(x=0;x<a;x++)c.clone().appendTo(b)}function p(a,c,d){D.call(a);if(typeof a=="object")for(var b=Object.keys(a),o=0;o<b.length;o++){if(!(b[o]=="types"||b[o]=="hasKey")){var h=null,i=false,h=a.key,k=b[o];if(f.isArray(c)&&!f.isArray(a)){b=c.length;for(o=0;o<b;o++)h=d.children("li").eq(o),h.length?p(a,c[o],h):/ul|ol|li/gi.test(k);break}else if(f.isArray(a)){k=a.length;for(b=0;b<k;b++)p(a[b],c,d);break}a:{var e=
k,g=a,i=d,l=c;if(e=="key")i=void 0;else{for(var j=E,n=null,m=g.key,q=void 0,n=0;n<j.length;n++)if(e==j[n]){n=r(e);if(typeof g[e]=="string")g.hasKey?/ul|ol|li/gi.test(e)&&(l=t(m,l),u(l,r(e),i),p(g[e],l,i)):(q=l[g[e]]?l[g[e]]:"",v(q)?n.html(q):n.text(q));else if(f.isArray(g[e])){e=g[e];for(g=0;g<e.length;g++)q=l[e[g]]?l[e[g]]:l[m]&&l[m][e[g]]?l[m][e[g]]:"",j=n.clone(),j.addClass(e[g]).appendTo(i),v(q)?j.html(q):j.text(q)}else typeof g[e]=="object"&&(n.appendTo(i),g.hasKey&&(i=t(m,l),u(i,n)),p(g[e],
l,n));i=true;break a}i=false}}i||k=="key"||(typeof a[k]=="string"?(h=c[a[k]]?c[a[k]]:"",d.addClass(a[k]),v(h)?d.html(h):d.text(h)):a[k]!=null&&typeof a[k]=="object"&&(i=r("div"),i.addClass(k).appendTo(d),a.hasKey&&(h=t(h,c),f.isArray(h)&&(c=h,i.remove(),i=r("ul"),i.addClass(k).appendTo(d)),u(h,r("li"),i)),p(a[k],c,i)))}}else typeof a=="string"&&d.addClass(a)}function w(a,c){return f.isArray(a)?{data:{items:a},template:c.key?c:{key:"items",items:c}}:{data:a,template:c}}function z(a,c){A-1==y&&B&&(y=
0,B.call(a,a,c));y++}var D=function(){var a;if(this.hasOwnProperty("hasKey")&&this.hasOwnProperty("types"))a=this;else{a={types:[],hasKey:false};for(var c in this){if(c=="key")a.hasKey=true;a.types.push(typeof this[c])}}for(var b in a)this.hasOwnProperty(b)||(this[b]=a[b]);return this},E="div,span,h1,h2,h3,section,ul,ol,li,p,i,b,label,table,thead,th,tbody,tr,td".split(",");"ol,ul".split(",");var v=function(a){return/<a[^>]*>(.*?)<\/a>/gi.test(a)},s=null,y=0,B=typeof j=="function"?j:jQuery.noop,A=
this.length?this.length:false,C=this;return!A?f("body").style(b,m):this.each(function(){var a=f(this),c={};typeof b=="string"&&s==null?f.getJSON(b,function(d){s=b=d;c=w(s,m);p(c.template,c.data,a)}).error(function(d){var e;d.responseText?(e=b=s=eval("("+d.responseText+")"),d=e,c=w(d,m),p(c.template,c.data,a)):console&&console.log("An error occured.")}).complete(function(){z(C,b)}):typeof b=="object"&&(c=w(b,m),p(c.template,c.data,a),z(C,b))})}})(window.jQuery,void 0);
